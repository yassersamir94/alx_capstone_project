{"version":3,"file":"color.js","names":["_parchment","require","ColorAttributor","StyleAttributor","value","domNode","startsWith","replace","hex","split","map","component","parseInt","toString","slice","join","exports","ColorClass","ClassAttributor","scope","Scope","INLINE","ColorStyle"],"sources":["../../src/formats/color.ts"],"sourcesContent":["import { ClassAttributor, Scope, StyleAttributor } from 'parchment';\n\nclass ColorAttributor extends StyleAttributor {\n  value(domNode: HTMLElement) {\n    let value = super.value(domNode);\n    if (!value.startsWith('rgb(')) return value;\n    value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\n    const hex = value\n      .split(',')\n      .map((component) => `00${parseInt(component, 10).toString(16)}`.slice(-2))\n      .join('');\n    return `#${hex}`;\n  }\n}\n\nconst ColorClass = new ClassAttributor('color', 'ql-color', {\n  scope: Scope.INLINE,\n});\nconst ColorStyle = new ColorAttributor('color', 'color', {\n  scope: Scope.INLINE,\n});\n\nexport { ColorAttributor, ColorClass, ColorStyle };\n"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,OAAA;AAEA,MAAMC,eAAe,SAASC,0BAAe,CAAC;EAC5CC,KAAKA,CAACC,OAAoB,EAAE;IAC1B,IAAID,KAAK,GAAG,KAAK,CAACA,KAAK,CAACC,OAAO,CAAC;IAChC,IAAI,CAACD,KAAK,CAACE,UAAU,CAAC,MAAM,CAAC,EAAE,OAAOF,KAAK;IAC3CA,KAAK,GAAGA,KAAK,CAACG,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;IAC3D,MAAMC,GAAG,GAAGJ,KAAK,CACdK,KAAK,CAAC,GAAG,CAAC,CACVC,GAAG,CAAEC,SAAS,IAAM,KAAIC,QAAQ,CAACD,SAAS,EAAE,EAAE,CAAC,CAACE,QAAQ,CAAC,EAAE,CAAE,EAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CACzEC,IAAI,CAAC,EAAE,CAAC;IACX,OAAQ,IAAGP,GAAI,EAAC;EAClB;AACF;AAACQ,OAAA,CAAAd,eAAA,GAAAA,eAAA;AAED,MAAMe,UAAU,GAAAD,OAAA,CAAAC,UAAA,GAAG,IAAIC,0BAAe,CAAC,OAAO,EAAE,UAAU,EAAE;EAC1DC,KAAK,EAAEC,gBAAK,CAACC;AACf,CAAC,CAAC;AACF,MAAMC,UAAU,GAAAN,OAAA,CAAAM,UAAA,GAAG,IAAIpB,eAAe,CAAC,OAAO,EAAE,OAAO,EAAE;EACvDiB,KAAK,EAAEC,gBAAK,CAACC;AACf,CAAC,CAAC"}